<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>SSL Installation Using APACHE and Reverse Proxy on Linux | Systech Knowledge Base</title>
    <meta name="generator" content="VuePress 1.9.9">
    
    <meta name="description" content="Contains the developers knowledge base">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/assets/css/0.styles.66c960d3.css" as="style"><link rel="preload" href="/assets/js/app.a6a299cf.js" as="script"><link rel="preload" href="/assets/js/2.6b092d03.js" as="script"><link rel="preload" href="/assets/js/19.444a12d1.js" as="script"><link rel="prefetch" href="/assets/js/10.074e78e0.js"><link rel="prefetch" href="/assets/js/11.ab2bc05e.js"><link rel="prefetch" href="/assets/js/12.4bdec156.js"><link rel="prefetch" href="/assets/js/13.dd45a34c.js"><link rel="prefetch" href="/assets/js/14.4a3803ae.js"><link rel="prefetch" href="/assets/js/15.c661f107.js"><link rel="prefetch" href="/assets/js/16.ec009ab9.js"><link rel="prefetch" href="/assets/js/17.031e080b.js"><link rel="prefetch" href="/assets/js/18.8057b31d.js"><link rel="prefetch" href="/assets/js/3.c6b3779b.js"><link rel="prefetch" href="/assets/js/4.7cb587c0.js"><link rel="prefetch" href="/assets/js/5.0023bf4c.js"><link rel="prefetch" href="/assets/js/6.4e53a11e.js"><link rel="prefetch" href="/assets/js/7.da886956.js"><link rel="prefetch" href="/assets/js/8.7683134d.js"><link rel="prefetch" href="/assets/js/9.dda5bb24.js">
    <link rel="stylesheet" href="/assets/css/0.styles.66c960d3.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="https://systechafrica.com/wp-content/uploads/2021/03/Overlay-logo.png" alt="Systech Knowledge Base" class="logo"> <span class="site-name can-hide">Systech Knowledge Base</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/getting-started/" class="nav-link">
  Getting Started
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Database Setup" class="dropdown-title"><span class="title">Database Setup</span> <span class="arrow down"></span></button> <button type="button" aria-label="Database Setup" class="mobile-dropdown-title"><span class="title">Database Setup</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/database-setup/oracle-guide/" class="nav-link">
  Oracle Database Setup
</a></li><li class="dropdown-item"><!----> <a href="/database-setup/edb-postgres-guide/" class="nav-link">
  EDB Postgres Setup
</a></li><li class="dropdown-item"><!----> <a href="/database-setup/postgres-guide/" class="nav-link">
  Postgres Setup
</a></li><li class="dropdown-item"><!----> <a href="/database-setup/mysql-guide/" class="nav-link">
  Mysql Setup
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Security Center" class="dropdown-title"><span class="title">Security Center</span> <span class="arrow down"></span></button> <button type="button" aria-label="Security Center" class="mobile-dropdown-title"><span class="title">Security Center</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/security/" class="nav-link router-link-active">
  Introduction
</a></li><li class="dropdown-item"><!----> <a href="/security/ssl-reverse-proxy/" class="nav-link">
  SSL Installation Using Reverse Proxy
</a></li><li class="dropdown-item"><!----> <a href="/security/ssl-letsencrypt/" class="nav-link">
  SSl Installation using self signed certificate from letsencrypt, apache and reverse proxy
</a></li></ul></div></div><div class="nav-item"><a href="/pension-domain/" class="nav-link">
  Pension Domain
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Fundmaster Guide" class="dropdown-title"><span class="title">Fundmaster Guide</span> <span class="arrow down"></span></button> <button type="button" aria-label="Fundmaster Guide" class="mobile-dropdown-title"><span class="title">Fundmaster Guide</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://documentation.systechafrica.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Documentation
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://knowledgebase.systechafrica.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Knowledge Base
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/getting-started/" class="nav-link">
  Getting Started
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Database Setup" class="dropdown-title"><span class="title">Database Setup</span> <span class="arrow down"></span></button> <button type="button" aria-label="Database Setup" class="mobile-dropdown-title"><span class="title">Database Setup</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/database-setup/oracle-guide/" class="nav-link">
  Oracle Database Setup
</a></li><li class="dropdown-item"><!----> <a href="/database-setup/edb-postgres-guide/" class="nav-link">
  EDB Postgres Setup
</a></li><li class="dropdown-item"><!----> <a href="/database-setup/postgres-guide/" class="nav-link">
  Postgres Setup
</a></li><li class="dropdown-item"><!----> <a href="/database-setup/mysql-guide/" class="nav-link">
  Mysql Setup
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Security Center" class="dropdown-title"><span class="title">Security Center</span> <span class="arrow down"></span></button> <button type="button" aria-label="Security Center" class="mobile-dropdown-title"><span class="title">Security Center</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/security/" class="nav-link router-link-active">
  Introduction
</a></li><li class="dropdown-item"><!----> <a href="/security/ssl-reverse-proxy/" class="nav-link">
  SSL Installation Using Reverse Proxy
</a></li><li class="dropdown-item"><!----> <a href="/security/ssl-letsencrypt/" class="nav-link">
  SSl Installation using self signed certificate from letsencrypt, apache and reverse proxy
</a></li></ul></div></div><div class="nav-item"><a href="/pension-domain/" class="nav-link">
  Pension Domain
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Fundmaster Guide" class="dropdown-title"><span class="title">Fundmaster Guide</span> <span class="arrow down"></span></button> <button type="button" aria-label="Fundmaster Guide" class="mobile-dropdown-title"><span class="title">Fundmaster Guide</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://documentation.systechafrica.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Documentation
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://knowledgebase.systechafrica.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Knowledge Base
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Getting Started</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Database Setup</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Security Center</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/security/" aria-current="page" class="sidebar-link">Security</a></li><li><a href="/security/ssl-reverse-proxy.html" aria-current="page" class="active sidebar-link">SSL Installation Using APACHE and Reverse Proxy on Linux</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/security/ssl-reverse-proxy.html#pre-requisites" class="sidebar-link">pre-requisites</a></li><li class="sidebar-sub-header"><a href="/security/ssl-reverse-proxy.html#step-1-generating-key-and-csr" class="sidebar-link">Step 1: Generating Key and CSR</a></li><li class="sidebar-sub-header"><a href="/security/ssl-reverse-proxy.html#step-2-ordering-certificate" class="sidebar-link">Step 2: Ordering Certificate</a></li><li class="sidebar-sub-header"><a href="/security/ssl-reverse-proxy.html#step-3-coping-certificate-and-key-files-to-your-linux-server" class="sidebar-link">Step 3:   Coping certificate and key files to your Linux Server</a></li><li class="sidebar-sub-header"><a href="/security/ssl-reverse-proxy.html#step-4-ssl-and-reverse-proxy-configuration" class="sidebar-link">Step 4:   SSL and Reverse Proxy Configuration</a></li></ul></li><li><a href="/security/ssl-letsencrypt.html" class="sidebar-link">How To Install Free SSL Certificate Using  Let’s Encrypt, APACHE  and Reverse Proxy on Linux</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Pension Domain</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="ssl-installation-using-apache-and-reverse-proxy-on-linux"><a href="#ssl-installation-using-apache-and-reverse-proxy-on-linux" class="header-anchor">#</a> <strong>SSL Installation Using APACHE and Reverse Proxy on Linux</strong></h1> <h2 id="pre-requisites"><a href="#pre-requisites" class="header-anchor">#</a> pre-requisites</h2> <p><code>Apache installed ,enabled and started. In order to configure SSL, you will need to ensure that the Apache mod_ssl module is installed on the server.</code></p> <blockquote><p>sudo yum install mod_ssl</p></blockquote> <h2 id="step-1-generating-key-and-csr"><a href="#step-1-generating-key-and-csr" class="header-anchor">#</a> Step 1: Generating Key and CSR</h2> <hr> <h3 id="method-a"><a href="#method-a" class="header-anchor">#</a> METHOD A:</h3> <h3 id="generate-keystore"><a href="#generate-keystore" class="header-anchor">#</a> Generate Keystore</h3> <blockquote><p>sudo keytool -genkey -alias {ALIAS_NAME} -keyalg RSA -validity 3650 -keysize 2048 -keystore {KEYSTORE}</p></blockquote> <div class="language- extra-class"><pre class="language-text"><code>
NB: the keystore can have .keystore or .jks  or .key extension

</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>PS: dont forget the {KEYSTORE_PASSWORD} you will set

NB : private key alias === {ALIAS_NAME} most preferebly domain name  as well as the first name, last name

You will use it for CSR creation and certificate installation. Make sure you remember it. 

</code></pre></div><h3 id="generating-csr"><a href="#generating-csr" class="header-anchor">#</a> Generating csr</h3> <blockquote><p>keytool -certreq -keyalg RSA -alias {ALIAS_NAME} -file {ALIAS_NAME}.csr -keystore {KEYSTORE}</p></blockquote> <p><strong>NB: There are multiple ways to generate Private key and CSR for SSL certificate</strong></p> <h1 id="method-b"><a href="#method-b" class="header-anchor">#</a> Method B:</h1> <div class="language- extra-class"><pre class="language-text"><code>sudo openssl req -new -newkey rsa:2048 -nodes -keyout mss.systechafrica.com.key -out mss.systechafrica.com.csr
</code></pre></div><ul><li>[x] you will be asked to enter following details</li> <li>[ ] Country Name – This is the two-letter abbreviation for your country. For example, United States would be US and Great Britain would be GB.</li> <li>[ ] State or Province Name – This is the full name of the state your organization operates from. For example, this might be “California” or “Michigan”.</li> <li>[ ] Locality Name – Name of the city your organization operates from. Examples might include “Lansing” or “Phoenix”. Don’t use abbreviations in this field. For example, “St. Helena” should be “Saint Helena”.</li> <li>[ ] Organization Name – The name of your organization. If you are a business, use must use your legal name. If you are applying as an individual, you use your full name instead.</li> <li>[ ] Organizational Unit Name – If applying as a business, you can enter your “Doing Business As” (DBA) name here. Alternately, you can use a department name here. For example, “IT Department” or “Web Administration”.</li> <li>[ ] Common Name – The domain name that you are purchasing a SSL certificate for. This must be a fully qualified domain name (FQDN). An example might be mydomain.com.
Note:
If you are applying for a special wildcard SSL certificate, you will need to enter an asterisk for the subdomain. An example in that case might be *.mydomain.com. Never include the “http://”, “https://”, or any other special characters in this field. Never include text after the top level domain at the end. For example, your common name should end in .com, .net, (or whatever other extension you are applying for.)</li> <li>[ ] Email Address – An email address that can be used as a point of contact for your domain. Be sure the address is valid!</li> <li>[ ] A challenge password – An optional password to further secure your certificate. Be sure to remember this password if you choose to use it. It must be at least 4 characters long. You can skip this step if you like.</li> <li>[ ] An optional company name – Another optional step. Fill in your company name if you wish. This is not required for web SSL certificates.</li></ul> <h2 id="step-2-ordering-certificate"><a href="#step-2-ordering-certificate" class="header-anchor">#</a> Step 2: Ordering Certificate</h2> <hr> <blockquote><p>Open your CSR file (.csr) with any text editor such as Notepad, and copy-paste all its contents into your SSL certificate order page.
Depending on the type of your cert, you may have to wait a few minutes (DV certs) or a couple of business days (EV and BV certs) for it to arrive in your email inbox.</p></blockquote> <h2 id="step-3-coping-certificate-and-key-files-to-your-linux-server"><a href="#step-3-coping-certificate-and-key-files-to-your-linux-server" class="header-anchor">#</a> Step 3:   Coping certificate and key files to your Linux Server</h2> <hr> <p><code>These files can be placed anywhere, but it is recommended to have them in the following location.</code></p> <ul><li>[x] Server Certificate and Intermediate - <strong>/etc/pki/tls/certs/</strong></li> <li>[x] Private Key - <strong>/etc/pki/tls/private/</strong></li></ul> <p>Run the following command if you face errors on SELinux to to restore the default context of a files.</p> <p><code>sudo restorecon -RvF /etc/ssl/certs/</code> <code>sudo setsebool -P httpd_read_user_content 1</code></p> <p><code>Note the above locations since we are going to use them in the next step</code></p> <h2 id="step-4-ssl-and-reverse-proxy-configuration"><a href="#step-4-ssl-and-reverse-proxy-configuration" class="header-anchor">#</a> Step 4:   SSL and Reverse Proxy Configuration</h2> <hr> <p>Edit the virtual host entry available in /etc/httpd/conf.d/ssl.conf file to assign the Private Key, Certificate and the Intermediate CA file to the configuration.
<code>The Above location is variant across different Linux Distributions. The above location is for RHEL-based Distro</code></p> <h3 id="_4-1-setting-server-name"><a href="#_4-1-setting-server-name" class="header-anchor">#</a> 4.1 Setting Server Name</h3> <p>inside the following tag <code>&lt;VirtualHost _default_:443&gt;</code></p> <blockquote><p>set server name e.g for domain<code>mss.systechafrica.com</code> would be
<code>ServerName mss.systechafrica.com</code></p></blockquote> <h3 id="_4-2-setting-path-to-server-certificate-server-private-key-and-server-certificate-chain-files"><a href="#_4-2-setting-path-to-server-certificate-server-private-key-and-server-certificate-chain-files" class="header-anchor">#</a> 4.2 Setting path to  Server Certificate , Server Private Key and  Server Certificate Chain files.</h3> <p>Find the tags and edit the corresponding correct path E.G</p> <blockquote><p>For Server Certificate
<code>SSLCertificateFile /etc/pki/tls/certs/mss_systechafrica_com.crt</code></p></blockquote> <blockquote><p>For Server Private Key
<code>SSLCertificateKeyFile /etc/pki/tls/private/mss_systechafrica_com.key</code></p></blockquote> <blockquote><p>For Server Certificate Chain:
<code>SSLCertificateChainFile /etc/pki/tls/certs/mss_systechafrica_com.ca-bundle</code></p></blockquote> <p><strong>NB</strong>
The Above File naming pattern can be different.</p> <h3 id="_4-3-set-up-the-reverse-proxy"><a href="#_4-3-set-up-the-reverse-proxy" class="header-anchor">#</a> 4.3 Set up The Reverse Proxy</h3> <blockquote><p>Just before the<code>&lt;/VirtualHost&gt;</code> tag
add the following lines</p></blockquote> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Proxy</span> <span class="token attr-name">*</span><span class="token punctuation">&gt;</span></span>
	Order deny,allow
        Allow from all
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Proxy</span><span class="token punctuation">&gt;</span></span>

   ProxyRequests Off
   ProxyPreserveHost On
   ProxyPass / http://localhost:8081/
   ProxyPassReverse / http://localhost:8081/
</code></pre></div><p>Where by http://localhost:8081/ is the URL to your application.</p> <p>Run the following command if you face errors on SELinux preventing Apache from initiating outbound connection
<code>sudo /usr/sbin/setsebool -P httpd_can_network_connect 1</code></p> <p>To Test Your configurations Use
<code>sudo httpd -S</code></p> <p>To check for ssl error logs use
<code>sudo tail -f /etc/httpd/logs/ssl_error_log</code></p> <p>To check for ssl access logs use
<code>sudo tail -f /etc/httpd/logs/ssl_access_log</code></p> <h1 id="finally-restart-apache-and-enjoy"><a href="#finally-restart-apache-and-enjoy" class="header-anchor">#</a> Finally restart Apache  and enjoy</h1> <p>😊</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">6/9/2023, 11:00:36 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/security/" class="prev router-link-active">
        Security
      </a></span> <span class="next"><a href="/security/ssl-letsencrypt.html">
        How To Install Free SSL Certificate Using  Let’s Encrypt, APACHE  and Reverse Proxy on Linux
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.a6a299cf.js" defer></script><script src="/assets/js/2.6b092d03.js" defer></script><script src="/assets/js/19.444a12d1.js" defer></script>
  </body>
</html>
